# Configuración de Ejemplo
# Copia este archivo a .env y ajusta los valores según tus necesidades

# ============================================================================
# PUERTOS
# ============================================================================
API_PORT=9100
QDRANT_PORT=9101
QDRANT_GRPC_PORT=9102

# ============================================================================
# WORKERS Y CONCURRENCIA
# ============================================================================
# IMPORTANTE: Mantener UVICORN_WORKERS=1 para evitar race conditions
UVICORN_WORKERS=1
UVICORN_WORKERS_GPU_MAX=1
UVICORN_LIMIT_CONCURRENCY=256
UVICORN_BACKLOG=16384
GPU_CONCURRENCY=1

# ============================================================================
# TIMEOUTS
# ============================================================================
REQUEST_TIMEOUT=30
GPU_ACQUIRE_TIMEOUT=5.0
UVICORN_TIMEOUT_KEEPALIVE=30

# ============================================================================
# QDRANT
# ============================================================================
QDRANT_URL=http://qdrant:6333
COLLECTION_NAME=faces

# ============================================================================
# MODELO INSIGHTFACE
# ============================================================================
MODEL_NAME=antelopev2
DET_SIZE=640,640
MAX_SIDE=1600
DOWNSCALE_TO=1280

# ============================================================================
# BÚSQUEDA
# ============================================================================
TOP_K=10
SIM_THRESHOLD=0.0
HNSW_EF=512
QUANTIZATION=scalar

# ============================================================================
# RUTAS (ajustar según tu sistema)
# ============================================================================
THUMBS_PATH=./thumbs
MODELS_PATH=./models
QDRANT_STORAGE_PATH=./qdrant_storage
LOGS_PATH=./logs
STATE_PATH=./state
